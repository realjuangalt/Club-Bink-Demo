var es=!1,base_url="https://api.yadio.io",var_txt={currency:'<span class="text-info">currency:</span> 3-letter currency code',currency0:'<span class="text-info">currency0:</span> 3-letter currency code',currency1:'<span class="text-info">currency1:</span> 3-letter currency code',side:'<span class="text-info">side:</span> buy or sell',limit:'<span class="text-info">limit:</span> max number of ads',amount:'<span class="text-info">amount:</span> amount to be converted',to:'<span class="text-info">to:</span> 3-letter currency code',from:'<span class="text-info">from:</span> 3-letter currency code',rangeh:'<span class="text-info">range:</span> number of hours to include from 1 to 24',ranged:'<span class="text-info">range:</span> number of days to include from 1 to 365'},faqs=[{q_en:"Rate Limits",txt_en:"Maximum requests per minute: 100",q_es:"¿ ?",txt_es:""},{q_en:"Base Endpoint",txt_en:"https://api.yadio.io",q_es:"¿ ?",txt_es:""},{q_en:"Status Codes",txt_en:"200: OK<br>400: invalid request<br>429: too many requests<br>500: generic internal server error",q_es:"¿ ?",txt_es:""},{q_en:"Timestamp Format",txt_en:"Unix time in milliseconds",q_es:"¿ ?",txt_es:""}],endpoints=[{api:"/exrates/{currency}",desc:"Returns exchange rates",option:var_txt.currency+" (optional. default=USD)",url:base_url+"/exrates/USD",comment:"get exchange rates base: USD"},{api:"/convert/{amount}/{from}/{to}",desc:"Converts amount from one currency to another",option:`${var_txt.amount} (required)<br>${var_txt.from} (required)<br>${var_txt.to} (required)`,url:"https://api.yadio.io/convert/100/USD/ARS",comment:"convert 100 USD to ARS"},{api:"/rate/{currency0}/{currency1}",desc:"Returns exchange rate for specified currency pair",option:var_txt.currency0+"<br>"+var_txt.currency1,url:"https://api.yadio.io/rate/ARS/USD",comment:"get exchange rate ARS/USD"},{api:"/currencies",desc:"Lists available currencies",option:"",url:"https://api.yadio.io/currencies",comment:"get available currencies"},{api:"/exchanges",desc:"Lists active exchanges",option:"",url:base_url+"/exchanges",comment:"get active exchanges"},{api:"/today/{range}/{currency}",desc:"Returns rate information for specified currency and period of hours",option:var_txt.rangeh+" (required)<br>"+var_txt.currency,url:"https://api.yadio.io/today/1/ARS",comment:"get ARS rate and volume info for last hour"},{api:"/hist/{range}/{currency}",desc:"Returns historical rate information",option:var_txt.ranged+" (required)<br>"+var_txt.currency,url:"https://api.yadio.io/hist/2/ARS",comment:"get ARS rate and volume info for last 2 days"},{api:"/compare/{range}/{currency}",desc:"Returns comparison information for specified currency and period of days",option:var_txt.ranged+" (required)<br>"+var_txt.currency,url:"https://api.yadio.io/compare/2/ARS",comment:"get ARS comparison info for last 2 days"},{api:"/market/ads",desc:"Returns P2P market ads",option:`Query Parameters: currency, side, limit<br>${var_txt.currency} (required)<br>${var_txt.side} (required)<br>${var_txt.limit} (optional. default=20)`,url:base_url+"/market/ads?currency=ARS&#38side=buy&#38limit=5",comment:"get ads currency=ARS side=buy limit=5"},{api:"/market/stats",desc:"Returns P2P market statistics",option:`Query Parameters: currency, side<br>${var_txt.currency} (required)<br>${var_txt.side} (required)`,url:base_url+"/market/stats?currency=ARS&#38side=buy",comment:"get market stats currency=ARS side=buy"},{api:"/ping",desc:"Checks server status",option:"",url:"https://api.yadio.io/ping",comment:"get server status"}];function displayInfo(){var e='<i class="fas fa-globe fa-fw"></i>',t='<i class="fab fa-linux fa-fw"></i>',a='<i class="fab fa-js fa-fw"></i>',s='<i class="fab fa-python fa-fw"></i>',r='<span class="text-success"><i class="fas fa-play fa-fw"></i></span>',n='<img src="./img/ex-arr.png" width="30" height="30" class="d-inline-block align-bottom"></img>',o='<a href="mailto:info+api@yadio.io?subject=API" class="text-info"><i class="far fa-envelope"></i></a>',i='<a href="https://status.yadio.io" class="text-success"> <i class="fas fa-check-circle"></i> API Status</a>',c="Your source for free-market exchange rates "+n+e,l=`<p>Our REST API allows you to seamlessly integrate accurate exchange rate data into your applications.</p><p>${i}</p><p>If you have questions or special requests send us a message ${o}</p>`,d=`<span class="text-secondary small">Real-Time API Query: ${r}</span> `,p=`<span class="text-secondary small">Usage Example: ${t}cURL</span>`,u=`<span class="text-secondary small">Usage Example: ${a}JavaScript</span>`,m=`<span class="text-secondary small">Usage Example: ${s}Python </span>`;es&&(c="Tu fuente de tipo de cambio libre "+n+e,l=`<p>Nuestra REST API, 100% gratis, te permite integrar información del tipo de cambio de múltiples monedas en tus aplicaciones.</p><p>${i}</p><p>Si tienes alguna pregunta o propuesta puedes enviarnos un mensaje ${o}</p>`,d=`<span class="text-secondary small">Consulta la API en tiempo real: ${r}</span>`,p=`<span class="text-secondary small">Ejemplo de uso: ${t}cURL</span>`,u=`<span class="text-secondary small">Ejemplo de uso: ${a}JavaScript</span>`,m=`<span class="text-secondary small">Ejemplo de uso: ${s}Python</span>`,terms="Terminos de Uso",terms_txt="El abuso o solicitudes excesivamente frecuentes a la API pueden resultar en la suspensión temporal o permanente de su acceso a la API; y yadio.io puede, a su exclusivo criterio, modificar, suspender o cancelar su acceso a la API (o cualquier parte de la misma) con o sin previo aviso."),$("#subtitle").html(c),$("#lead").html(l),$("#accordion_title").html("<span>Endpoints</span>");for(var f=0;f<endpoints.length;f++)$("#SAMPLE"+f).html(d),$("#USAGE_Linux"+f).html(p),$("#USAGE_JS"+f).html(u),$("#USAGE_Python"+f).html(m),$("#API"+f).html(endpoints[f].api),$(`#API${f}_txt`).html(getApitxtHtml(endpoints[f].desc,endpoints[f].option)),$("#SampleCode_Linux"+f).html(getCodeLinux(endpoints[f].url,endpoints[f].comment)),$("#SampleCode_JS"+f).html(getCodeJS(endpoints[f].url,endpoints[f].comment)),$("#SampleCode_Python"+f).html(getCodePython(endpoints[f].url,endpoints[f].comment));for(f=0;f<faqs.length;f++)$("#FAQ"+f).html(faqs[f].q_en),$(`#FAQ${f}_txt`).html(faqs[f].txt_en)}function getApitxtHtml(e,t){return`<p>${e}</p>Base Endpoint: https://api.yadio.io<br>Method: GET<br>Permissions: public<br>Response: application/json<br>CORS: enabled<br>`+t}function getCodeLinux(e,t){return`# ${t}<br>`+`curl -X GET "${e}"`}function getCodeJS(e,t){return`/* ${t} */<br>`+`
const axios = require('axios')
var url = '${e}'
axios
  .get(url)
  .then(res => {
    console.log(res.data)
  })`}function getCodePython(e,t){return`# ${t}<br><br>`+`import requests <br>url = '${e}'<br>response = requests.get(url)<br>print(response.json())`}function displayResponse(e,t,a){a+="<br><br>200 OK<br>",e=JSON.stringify(e,void 0,2);$(t).html(a+e)}function setEndpointCards(e){for(var t="",a=0;a<e.length;a++)t+=getEndpointCard(a,e[a].url);$("#endpointCards").html(t)}function getEndpointCard(e,t){var a="SAMPLE"+e,s="collapseSample"+e,r="ResponseSample"+e,n="USAGE_JS"+e,o="collapseUsage"+e,i="SampleCode_JS"+e,c="USAGE_Python"+e,l="collapseUsagePython"+e,d="SampleCode_Python"+e,p="USAGE_Linux"+e,u="collapseUsageLinux"+e,m="SampleCode_Linux"+e,t=`onclick = "fetchResponse('${t}', '#${r}')"`;return`
    ${getCardHeader("API"+e,"collapseAPI"+e,`API${e}_txt`,"accordion")}
    ${getCardGroup(a,s,r,t)}
    ${getCardGroup(p,u,m)}
    ${getCardGroup(n,o,i)}
    ${getCardGroup(c,l,d)}
  `}function getCardHeader(e,t,a,s){return`
    <div class="card bg-dark border border-secondary mt-4">
    <div class="card-header border-0">
      <h6 class="mb-0 text-info">
        <span class="text-info stretched-link" id="${e}" data-toggle="collapse" data-target="#${t}"></span>
      </h6>
    </div>
    <div id="${t}" class="collapse" data-parent="#${s}">
      <div class="card-body border-0">
        <p id="${a}" class="text-left"></p>
      </div>
    </div>
  </div>`}function getCardGroup(e,t,a,s){return`
  <div class="card bg-dark border-0">
  <div class="card-header border-0">
    <h6 class="mb-0">
      <a id="${e}" data-toggle="collapse" data-target="#${t}" ${s=s||""}></a>
    </h6>
  </div>
  <div id="${t}" class="collapse" data-parent="#accordion">
    <div class="card-body border-0">
        <pre><code class="text-success"><span id="${a}"></span></code></pre></span>
    </div>
  </div>
</div>`}function setFaqCards(e,t,a,s){for(var r="",n=0;n<a.length;n++)r+=getFaqCard(n,t,s);$("#"+e).html(r)}function getFaqCard(e,t,a){return`
    ${getCardHeader(""+t+e,"collapse"+t+e,""+t+e+"_txt",a)}
  `}function fetchResponse(t,a){fetch(t).then(function(e){return e.json()}).then(function(e){displayResponse(e,a,t)}).catch(function(e){console.log("Something went wrong!",e),ShowErrMsg("Error ",e)})}function ChangeLang(){(es=!es)?$("#langbtn").html("English"):$("#langbtn").html("Español"),displayInfo(endpoints)}$(function(){setFaqCards("faqCards","FAQ",faqs,"accordionFAQ"),setEndpointCards(endpoints),setNavMenu("api.html"),setFooter(),displayInfo()});